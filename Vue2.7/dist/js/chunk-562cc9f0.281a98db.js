(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-562cc9f0"],{"4efe":function(e,t,i){"use strict";var n=i("4ea4");i("1c01"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("386d"),i("7f7f");var a=n(i("3e34")),o={mounted:function(){var e=this;this.$store.dispatch("getAdmins").finally((function(){e.loading=!1}))},computed:{admins:function(){return this.$store.getters.admins},meta:function(){return this.$store.getters.admins_meta}},data:function(){return{Permissions:a.default,dialog:!1,search:"",new_admin:!1,loading:!0,options:{},headers:[{text:"ID",align:"left",value:"id"},{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Mobile",value:"mobile"},{text:"Edit/Delete",value:"edit"}],form:{valid:!1,name:"",nameRules:[function(e){return!!e||"Name is required"},function(e){return e.length<=10||"Name must be less than 10 characters"}],email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||"E-mail must be valid"}],mobile:"",mobileRules:[function(e){return!!e||"Mobile is required"},function(e){return/^\d+$/.test(e)||"Number must be valid"}],password:"",passwordRules:[function(e){return!!e||"Password is required"},function(e){return e.length>=8||"Password must be more than 8 characters"}]},confirmationDialog:!1,adminToDelete:null}},methods:{showAdminDialog:function(e){this.dialog=!0,this.form.name=e.name,this.form.email=e.email,this.form.mobile=e.mobile,this.form.id=e.id},newAdminDialog:function(){this.new_admin=!0,this.dialog=!0,this.form.name="",this.form.email="",this.form.mobile="",this.form.password=""},submit:function(){var e=this;if(this.$refs.form.validate()){var t={id:this.form.id,name:this.form.name,email:this.form.email,mobile:this.form.mobile,password:this.form.password};this.loading=!0,this.new_admin?this.$store.dispatch("createAdmin",t).finally((function(){e.loading=!1,e.new_admin=!1,e.dialog=!1})):this.$store.dispatch("updateAdmin",{admin:t,current_admin:!1}).finally((function(){e.loading=!1,e.dialog=!1}))}},clear:function(){this.$refs.form.reset()},closeDialog:function(){this.new_admin=!1,this.dialog=!1},getAdmins:function(){var e=this;this.loading=!0,this.options.q=this.search,this.$store.dispatch("getAdmins",this.options).finally((function(){e.loading=!1}))},showDeleteDialog:function(e){this.confirmationDialog=!0,this.adminToDelete=e},closeConfirmationDialog:function(){this.confirmationDialog=!1,this.adminToDelete=null},deleteAdmin:function(){var e=this;this.loading=!0,this.$store.dispatch("deleteAdmin",this.adminToDelete).finally((function(){e.loading=!1,e.closeConfirmationDialog()}))}},watch:{options:{handler:function(){var e=this;this.loading=!0,this.search&&(this.options.q=this.search),this.$store.dispatch("getAdmins",this.options).finally((function(){e.loading=!1}))},deep:!0}}};t.default=o},"542c":function(e,t,i){"use strict";i.r(t);var n=i("e308"),a=i("ad34");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);var s=i("2877"),r=Object(s["a"])(a["default"],n["render"],n["staticRenderFns"],!1,null,null,null);t["default"]=r.exports},"7b96":function(e,t,i){"use strict";i("1c01"),Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0,i("7f7f"),i("386d"),i("57e7");var n=function(){var e=this,t=e._self._c;return t("div",[t("page-title-bar"),t("v-card-title",[t("v-spacer"),t("v-text-field",{attrs:{label:"Search","single-line":""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getAdmins.apply(null,arguments)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t("v-btn",{attrs:{icon:""},on:{click:e.getAdmins}},[t("v-icon",[e._v("search")])],1)],1),t("v-container",{attrs:{"grid-list-xl":"","pt-0":""}},[t("v-layout",{attrs:{row:"",wrap:""}},[t("app-card",{attrs:{customClasses:"mb-30",colClasses:"xl12 lg12 md12 sm12 xs12"}},[t("v-data-table",{attrs:{headers:e.headers,items:e.admins,search:e.search,options:e.options,"server-items-length":e.meta.total,"item-key":"id",loading:e.loading,"loading-text":"Loading... Please wait","footer-props":{showFirstLastPage:!0}},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"item.edit",fn:function(i){var n=i.item;return[t("v-btn",{staticClass:"mr-2",attrs:{fab:"","x-small":"",color:"primary",disabled:!e.$can(e.Permissions.actions.update,e.Permissions.resources.admin)},on:{click:function(t){return t.stopPropagation(),e.showAdminDialog(n)}}},[t("v-icon",{attrs:{small:""}},[e._v("edit")])],1),t("v-btn",{attrs:{fab:"","x-small":"",color:"error",disabled:!e.$can(e.Permissions.actions.delete,e.Permissions.resources.admin)},on:{click:function(t){return t.stopPropagation(),e.showDeleteDialog(n)}}},[t("v-icon",{attrs:{small:""}},[e._v("delete")])],1)]}}])}),t("v-dialog",{attrs:{"max-width":"500px"},on:{"click:outside":e.closeDialog},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t("v-card",[t("v-card-title",[e._v("\n              Admin\n            ")]),t("v-card-text",[t("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.form.valid,callback:function(t){e.$set(e.form,"valid",t)},expression:"form.valid"}},[t("v-text-field",{attrs:{label:"Name",rules:e.form.nameRules,counter:10,required:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}}),t("v-text-field",{attrs:{label:"E-mail",rules:e.form.emailRules,required:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),t("v-text-field",{attrs:{label:"Mobile",rules:e.form.mobileRules,required:""},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}}),t("v-text-field",{attrs:{type:"password",label:"Password",rules:e.form.passwordRules,counter:8,required:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),t("v-btn",{staticClass:"mr-3 mt-2",attrs:{disabled:!e.form.valid,color:"success",loading:e.loading},on:{click:e.submit}},[e.new_admin?t("div",[e._v("Create")]):t("div",[e._v(e._s(e.$t("message.adminSubmitUpdate")))])]),t("v-btn",{staticClass:"float-right mt-2",attrs:{color:"warning"},on:{click:function(t){return t.stopPropagation(),e.closeDialog.apply(null,arguments)}}},[e._v("Cancel")])],1)],1)],1)],1),e.$can(e.Permissions.actions.create,e.Permissions.resources.admin)?t("v-btn",{attrs:{color:"primary"},on:{click:function(t){return t.stopPropagation(),e.newAdminDialog.apply(null,arguments)}}},[e._v("\n          + "+e._s(e.$t("message.adminAddNew"))+"\n        ")]):t("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var n=i.on;return[t("span",e._g({staticClass:"mt-70"},n),[t("v-btn",{attrs:{disabled:"",color:"primary"}},[e._v("\n                + "+e._s(e.$t("message.adminAddNew"))+"\n              ")])],1)]}}],null,!1,2630958975)},[t("span",[t("v-icon",[e._v("warning")]),e._v(" You are not authorized to do this action")],1)])],1)],1)],1),t("v-dialog",{attrs:{"max-width":"500px"},on:{"click:outside":e.closeConfirmationDialog},model:{value:e.confirmationDialog,callback:function(t){e.confirmationDialog=t},expression:"confirmationDialog"}},[t("v-card",[t("v-card-title",[e._v("\n        Are you sure you want to delete this admin?\n      ")]),t("v-card-actions",[t("v-btn",{attrs:{color:"error",loading:e.loading,disabled:e.loading},on:{click:function(t){return t.stopPropagation(),e.deleteAdmin.apply(null,arguments)}}},[e._v("\n          Delete\n        ")]),t("v-btn",{attrs:{color:"warning"},on:{click:function(t){return t.stopPropagation(),e.closeConfirmationDialog.apply(null,arguments)}}},[e._v("Cancel")])],1)],1)],1)],1)};t.render=n;var a=[];t.staticRenderFns=a},ad34:function(e,t,i){"use strict";i.r(t);var n=i("4efe"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},e308:function(e,t,i){"use strict";var n=i("7b96");i.o(n,"render")&&i.d(t,"render",(function(){return n["render"]})),i.o(n,"staticRenderFns")&&i.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]}))}}]);